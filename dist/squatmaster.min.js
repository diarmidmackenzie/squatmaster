!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var s in i)("object"==typeof exports?exports:t)[s]=i[s]}}(self,(()=>(()=>{var t={12:()=>{AFRAME.registerComponent("polygon-wireframe",{schema:{color:{type:"color",default:"grey"},opacity:{type:"number",default:1},hiddenOpacity:{type:"number",default:0},dashed:{type:"boolean",default:!1},dashSize:{type:"number",default:3},gapSize:{type:"number",default:1},dashScale:{type:"number",default:30}},init(){this.updateGeometry=this.updateGeometry.bind(this),this.el.addEventListener("object3dset",this.updateGeometry),this.el.getObject3D("mesh")&&this.updateGeometry()},updateGeometry(){const t=this.el.getObject3D("mesh").geometry;t&&(this.edges&&this.edges.dispose(),this.edges=new THREE.EdgesGeometry(t),this.update())},update(){const t=this.material,e=this.line,i=this.hiddenMaterial,s=this.hiddenLine,a=this.data;if(this.material=this.createLineMaterial(a.color,a.opacity),0!==a.hiddenOpacity&&a.hiddenOpacity!==a.opacity?(this.hiddenMaterial=this.createLineMaterial(a.color,a.hiddenOpacity),a.hiddenOpacity>a.opacity&&(console.warn("Opacity of hidden parts cannot be higher than the opacity of non-hidden parts"),console.warn("Wireframe will be rendered with opacity ",a.hiddenOpacity," as set on hiddenOpacity property."))):this.hiddenMaterial=null,0!==a.hiddenOpacity){const t=this.hiddenMaterial||this.material;t.depthWrite=!1,t.depthTest=!1,t.toneMapped=!1}this.line=new THREE.LineSegments(this.edges,this.material),this.line.computeLineDistances(),this.el.object3D.add(this.line),this.hiddenMaterial&&(this.hiddenLine=new THREE.LineSegments(this.edges,this.hiddenMaterial),this.hiddenLine.computeLineDistances(),this.el.object3D.add(this.hiddenLine)),this.el.getObject3D("mesh").visible=!1,this.removeLineAndMaterial(e,t),this.removeLineAndMaterial(s,i)},removeLineAndMaterial(t,e){t&&t.removeFromParent(),e&&e.dispose()},createLineMaterial(t,e){const i=this.data;let s;return s=i.dashed?new THREE.LineDashedMaterial({color:t,dashSize:i.dashSize,gapSize:i.gapSize,scale:i.dashScale}):new THREE.LineBasicMaterial({color:t}),s.opacity=e,1!==e&&(s.transparent=!0),s},remove(){this.el.removeEventListener("object3dset",this.updateGeometry),this.el.getObject3D("mesh").visible=!0,this.edges&&this.edges.dispose(),this.removeLineAndMaterial(this.line,this.material)}})},693:()=>{AFRAME.registerComponent("bar-monitor",{dependencies:["bar-position"],schema:{hookPosition:{type:"vec3",default:{x:0,y:1.5,z:-.5}},topHeight:{default:0},targetDepth:{default:0},safetyPinHeight:{default:0},rackWidth:{default:1},rackDepth:{default:1},showPlanes:{default:!0},opacity:{default:.3}},init(){this.state={insideRack:!1,lifterAtHooks:!1,barOnShoulders:!1,atTop:!1,belowDepth:!1,belowSafetyPins:!1}},update(){this.deletePlanes(),this.data.showPlanes&&this.createPlanes()},createPlanes(){this.aboveTopPlane=this.createPlane(this.data.topHeight,"outline","white"),this.topPlaneUpwards=this.createPlane(this.data.topHeight-.05,"outline","green"),this.depthPlaneUpwards=this.createPlane(this.data.targetDepth,"outline","green"),this.safetyPlaneTop=this.createPlane(this.data.safetyPinHeight,"outline","orange"),this.safetyPlaneBottom=this.createPlane(this.data.safetyPinHeight-.05,"outline","red")},deletePlanes(){deletePlane=t=>{t&&t.parentNode.removeChild(t)},deletePlane(this.aboveTopPlane),deletePlane(this.topPlaneUpwards),deletePlane(this.topPlaneDownwards),deletePlane(this.depthPlaneUpwards),deletePlane(this.depthPlaneDownwards),deletePlane(this.safetyPlaneTop),deletePlane(this.safetyPlaneBottom),this.aboveTopPlane=null,this.aboveTopPlane=null,this.topPlaneUpwards=null,this.topPlaneDownwards=null,this.depthPlaneUpwards=null,this.depthPlaneDownwards=null,this.safetyPlaneTop=null,this.safetyPlaneBottom=null},createPlane(t,e,i,s){const a=document.createElement("a-plane");return a.setAttribute("width",this.data.rackWidth),a.setAttribute("height",this.data.rackDepth),a.object3D.position.y=t,a.object3D.rotation.x=Math.PI/2,"transparent"===e?a.setAttribute("material",{opacity:this.data.opacity,transparent:!0,color:i,side:s}):(console.assert("outline"===e),a.setAttribute("polygon-wireframe",{color:i})),document.querySelector("#rack").appendChild(a),a},isInsideRack(t){let e,i;Math.abs(t.x-this.data.hookPosition.x)<this.data.rackWidth/2&&(e=!0);const s=t.z-this.data.hookPosition.z;return s<this.data.rackDepth&&s>-.1&&(i=!0),e&&i},checkIfInsideRack(t){return this.isInsideRack(t)?(this.state.insideRack||this.el.emit("entered-rack"),this.state.insideRack=!0):(this.state.insideRack&&this.el.emit("exited-rack"),this.state.insideRack=!1),this.state.insideRack},isAtHooks(t){let e,i;return Math.abs(t.x-this.data.hookPosition.x)<this.data.rackWidth/2&&(e=!0),Math.abs(this.data.hookPosition.z-t.z)<.05&&(i=!0),e&&i},checkIfAtHooks(t){return this.isAtHooks(t)?(this.state.lifterAtHooks||this.el.emit("reached-hooks"),this.state.lifterAtHooks=!0):(this.state.lifterAtHooks&&(t.y>this.data.hookPosition.y?(this.state.barOnShoulders||this.el.emit("shouldered-bar"),this.state.barOnShoulders=!0):(this.state.barOnShoulders&&this.el.emit("returned-bar"),this.state.barOnShoulders=!1),this.el.emit("left-hooks")),this.state.lifterAtHooks=!1),this.state.lifterAtHooks},isAtTop(t){return this.data.topHeight-t.y<.05},checkIfAtTop(t){return this.isAtTop(t)?(this.state.atTop||this.el.emit("hit-top"),this.state.atTop=!0):(this.state.atTop&&this.el.emit("lowered-from-top"),this.state.atTop=!1),this.state.atTop},isBelowDepth(t){return t.y<this.data.targetDepth},checkIfBelowDepth(t){return this.isBelowDepth(t)?(this.state.belowDepth||this.el.emit("hit-target-depth"),this.state.belowDepth=!0):(this.state.belowDepth&&this.el.emit("upwards-from-target-depth"),this.state.belowDepth=!1),this.state.belowDepth},isBelowSafetyPins(t){return t.y<this.data.safetyPinHeight-.05},checkIfBelowSafetyPins(t){return this.isBelowSafetyPins(t)?(this.state.belowSafetyPins||this.el.emit("below-safety-pins"),this.state.belowSafetyPins=!0):(this.state.belowSafetyPins&&(this.el.emit("bailed-out"),this.state.barOnShoulders=!1),this.state.belowSafetyPins=!1),this.state.belowSafetyPins},tick(){barPosition=this.el.sceneEl.components["bar-position"].barPosition,this.checkIfInsideRack(barPosition)&&(this.checkIfAtHooks(barPosition),this.checkIfAtTop(barPosition),this.checkIfBelowDepth(barPosition),this.checkIfBelowSafetyPins(barPosition))}})},610:()=>{AFRAME.registerComponent("bar-position",{init(){this.cameraPosition=new THREE.Vector3,this.cameraQuaternion=new THREE.Quaternion,this.tempQuaternion=new THREE.Quaternion,this.rackEl=document.querySelector("#rack"),rack=this.rackEl.object3D,this.rackInverseTransform=new THREE.Matrix4,rack.updateWorldMatrix(),this.rackInverseTransform.copy(rack.matrixWorld),this.rackInverseTransform.invert(),this.barPosition=new THREE.Vector3,this.barOffset=new THREE.Vector3,this.getCameraAndBarPosition()},getCameraAndBarPosition(){const t=this.cameraPosition,e=this.cameraQuaternion;this.el.sceneEl.camera.getWorldPosition(t),this.el.sceneEl.camera.getWorldQuaternion(e);const i=this.rackInverseTransform;t.applyMatrix4(i),this.tempQuaternion.setFromRotationMatrix(i),e.multiply(this.tempQuaternion),this.barPosition.addVectors(this.cameraPosition,this.barOffset)},update(){},tick(){this.getCameraAndBarPosition()}})},880:()=>{const t={start:"Ensure your safety pins are in place at a suitable height.  Position the hooks just below shoulder height, and place an empty bar across the hooks.",hooks:"Without moving the bar yet, duck under and brace your shoulders against the bar",top:"Stand up to your full height, and take a step back",depth:"Squat down to your target depth: thighs parallel to the floor",safety:"Bend down further, so that the bar sits on your safety pins",review:"Stand up again.  If you are happy, nod, and return the bar to the rack",done:"Calibration is now complete"},e={start:"",hooks:"racked bar position",top:"height at top of squat",depth:"target depth",safety:"safety pin depth",review:"",done:""};AFRAME.registerComponent("calibration-flow",{dependencies:["bar-position"],init(){this.nodEvent=this.nodEvent.bind(this),this.shakeEvent=this.shakeEvent.bind(this),this.el.addEventListener("nod",this.nodEvent),this.el.addEventListener("shake",this.shakeEvent),this.stage="start",this.saving=!1,this.deleting=!1,this.calibrationUI=document.getElementById("calibration-ui")},update(){this.updateUI()},remove(){this.el.removeEventListener("nod",this.nodEvent),this.el.removeEventListener("shake",this.shakeEvent)},beginCalibrationProcess(){this.stage="start",this.calibrationUI.object3D.visible=!0,this.updateUI()},endCalibrationProcess(){this.calibrationUI.object3D.visible=!1,this.el.emit("calibration-complete")},getBarPosition(){return this.el.components["bar-position"].barPosition},moveToStage(t){this.saving=!0,this.updateUI(),setTimeout((()=>{this.stage=t,this.saving=!1,this.updateUI()}),1e3)},moveBackToStage(t){this.deleting=!0,setTimeout((()=>{this.stage=t,this.deleting=!1,this.updateUI()}),500)},nodEvent(){switch(this.stage){case"start":this.moveToStage("hooks");break;case"hooks":const t=new THREE.Vector3;t.copy(this.getBarPosition()),this.el.setAttribute("bar-monitor",{hookPosition:t}),this.moveToStage("top");break;case"top":ypos=this.getBarPosition().y,this.el.setAttribute("bar-monitor",{topHeight:ypos}),this.moveToStage("depth");break;case"depth":ypos=this.getBarPosition().y,this.el.setAttribute("bar-monitor",{targetDepth:ypos}),this.moveToStage("safety");break;case"safety":ypos=this.getBarPosition().y,this.el.setAttribute("bar-monitor",{safetyPinHeight:ypos}),this.moveToStage("review");break;case"review":this.moveToStage("done");break;case"done":this.endCalibrationProcess();break;default:console.error("Hit Nod in unexpected state: ",this.stage)}},shakeEvent(){switch(this.stage){case"start":case"done":break;case"hooks":this.moveBackToStage("start");break;case"top":this.moveBackToStage("hooks");break;case"depth":this.moveBackToStage("top");break;case"safety":this.moveBackToStage("depth");break;case"review":this.moveBackToStage("safety");break;default:console.error("Hit Nod in unexpected state: ",this.stage)}},updateUI(){this.calibrationUI.setAttribute("calibration-ui",{saving:this.saving,deleting:this.deleting,position:e[this.stage],message:t[this.stage]})}}),AFRAME.registerComponent("calibration-ui",{schema:{saving:{default:!1},deleting:{default:!1},position:{default:""},message:{default:""}},init(){this.circle=document.createElement("a-circle"),this.circle.setAttribute("radius",1),this.circle.setAttribute("color","yellow"),this.el.appendChild(this.circle),this.text=document.createElement("a-entity"),this.text.setAttribute("text",{color:"black",width:2,wrapCount:40,align:"center"}),this.circle.appendChild(this.text)},update(){let t="";this.data.saving&&(t+=`Saving ${this.data.position}...\n\n`),this.data.deleting&&(t+=`Deleting ${this.data.position}...\n\n`),t+=this.data.message,this.text.setAttribute("text",`value: ${t}`)}})},297:()=>{AFRAME.registerComponent("inside-rack-ui",{schema:{repsToGo:{default:5},message:{default:""}},init(){this.circle=document.createElement("a-circle"),this.circle.setAttribute("radius",.5),this.el.appendChild(this.circle),this.text=document.createElement("a-entity"),this.text.setAttribute("text",{color:"black",wrapCount:15,align:"center"}),this.circle.appendChild(this.text)},update(){this.text.setAttribute("text",`value: ${this.data.message}\n${this.data.repsToGo} reps to go`)}})},532:()=>{AFRAME.registerComponent("nod-shake",{schema:{nodSensitivity:{default:.25},shakeSensitivity:{default:.25},debug:{default:!1}},init(){this.cameraQuaternion=new THREE.Quaternion,this.lastQuaternion=new THREE.Quaternion,this.deltaQuaternion=new THREE.Quaternion,this.camera=this.el.sceneEl.camera,this.firstFrame=!0,this.cumRotNod=0,this.cumRotShake=0,this.debugDisplayCounter=0},update(){this.data.debug?(this.display=document.createElement("a-text"),this.display.object3D.position.set(0,0,-3),this.display.setAttribute("align","center"),this.display.setAttribute("value","Nod/shake debug"),this.camera.el.appendChild(this.display)):this.display&&(this.display.parentNode.removeChild(this.display),this.display=null)},primeDebugReset(){this.debugDisplayCounter++,setTimeout((()=>{this.debugDisplayCounter--,this.debugDisplayCounter<=0&&this.display.setAttribute("text","value: Nod/shake debug")}),1e3)},tick(){if(this.firstFrame)return void(this.firstFrame=!1);const t=this.cameraQuaternion,e=this.deltaQuaternion;if(this.el.sceneEl.camera.getWorldQuaternion(t),e.copy(this.lastQuaternion),e.invert(),e.premultiply(t),e.normalize(),Math.sqrt(1-e.w*e.w)<1e-4);else{const t=2*Math.acos(e.w),i=Math.abs(t);console.log("Absolute angle of rotation: ",i);let s=e.x,a=e.y,o=e.z;Math.abs(s)>=Math.abs(a)&&Math.abs(s)>=Math.abs(o)?(this.cumRotNod+=i,this.cumRotShake=0,this.data.debug&&console.log("X-axis dominant.  Accumulated nod rotation:",this.cumRotNod)):Math.abs(a)>=Math.abs(s)&&Math.abs(a)>=Math.abs(o)?(this.cumRotNod=0,this.cumRotShake+=i,this.data.debug&&console.log("Y-axis dominant.  Accumulated shake rotation:",this.cumRotShake)):(this.cumRotNod+=i,this.cumRotShake=0,this.data.debug&&console.log("Z-axis dominant.  Accumulated nod rotation:",this.cumRotNod))}this.cumRotNod>this.data.nodSensitivity&&(this.el.emit("nod"),this.cumRotNod=0,this.data.debug&&(console.log("Emitted nod event"),this.display.setAttribute("text","value: Detected nod"),this.primeDebugReset())),this.cumRotShake>this.data.shakeSensitivity&&(this.el.emit("shake"),this.cumRotShake=0,this.data.debug&&(console.log("Emitted shake event"),this.display.setAttribute("text","value: Detected shake"),this.primeDebugReset())),this.lastQuaternion.copy(t)}})},211:()=>{AFRAME.registerGeometry("squatRack",{schema:{schema:{width:{default:1},depth:{default:1},frontHeight:{default:2.2},rearHeight:{default:1.8},frameWidth:{default:.08},hookRadiusSmall:{default:.02},hookRadiusLarge:{default:.04},hookDepth:{default:.08},hookHeight:{default:1.5},safetyHeight:{default:.75},safetyRadius:{default:.02}}},init(t){const e=[];let i;i=new THREE.BoxGeometry(t.frameWidth,t.rearHeight,t.frameWidth),i.translate(-t.width/2,t.rearHeight/2,t.depth/2),e.push(i),i=new THREE.BoxGeometry(t.frameWidth,t.rearHeight,t.frameWidth),i.translate(t.width/2,t.rearHeight/2,t.depth/2),e.push(i),i=new THREE.BoxGeometry(t.frameWidth,t.frontHeight,t.frameWidth),i.translate(-t.width/2,t.frontHeight/2,-t.depth/2),e.push(i),i=new THREE.BoxGeometry(t.frameWidth,t.frontHeight,t.frameWidth),i.translate(t.width/2,t.frontHeight/2,-t.depth/2),e.push(i),i=new THREE.CylinderGeometry(t.hookRadiusSmall,t.hookRadiusSmall,t.hookDepth),i.rotateX(Math.PI/2),i.translate(-t.width/2,t.hookHeight,-t.depth/2+t.hookDepth/2),e.push(i),i=new THREE.CylinderGeometry(t.hookRadiusLarge,t.hookRadiusLarge,.01),i.rotateX(Math.PI/2),i.translate(-t.width/2,t.hookHeight,-t.depth/2+t.hookDepth),e.push(i),i=new THREE.CylinderGeometry(t.hookRadiusSmall,t.hookRadiusSmall,t.hookDepth),i.rotateX(Math.PI/2),i.translate(t.width/2,t.hookHeight,-t.depth/2+t.hookDepth/2),e.push(i),i=new THREE.CylinderGeometry(t.hookRadiusLarge,t.hookRadiusLarge,.01),i.rotateX(Math.PI/2),i.translate(t.width/2,t.hookHeight,-t.depth/2+t.hookDepth),e.push(i),i=new THREE.CylinderGeometry(t.safetyRadius,t.safetyRadius,t.depth),i.rotateX(Math.PI/2),i.translate(-t.width/2,t.safetyHeight,0),e.push(i),i=new THREE.CylinderGeometry(t.safetyRadius,t.safetyRadius,t.depth),i.rotateX(Math.PI/2),i.translate(t.width/2,t.safetyHeight,0),e.push(i),this.geometry=THREE.BufferGeometryUtils.mergeBufferGeometries(e)}}),AFRAME.registerComponent("squat-rack",{schema:{width:{default:1},depth:{default:1},frontHeight:{default:2.2},rearHeight:{default:1.8},frameWidth:{default:.08},hookRadiusSmall:{default:.02},hookRadiusLarge:{default:.04},hookDepth:{default:.08},hookHeight:{default:1.4},safetyHeight:{default:.65},safetyRadius:{default:.02}},init(){this.el.setAttribute("geometry",{primitive:"squatRack",width:this.data.width,depth:this.data.depth,frontHeight:this.data.frontHeight,rearHeight:this.data.rearHeight,frameWidth:this.data.frameWidth,hookRadiusSmall:this.data.hookRadiusSmall,hookRadiusLarge:this.data.hookRadiusLarge,hookDepth:this.data.hookDepth,hookHeight:this.data.hookHeight,safetyHeight:this.data.safetyHeight,safetyRadius:this.data.safetyRadius}),this.el.setAttribute("material",{color:"#333"})}})},47:()=>{AFRAME.registerComponent("ui-manager",{init(){this.state={calibrated:!1,inRack:!1},this.calibrationComplete=this.calibrationComplete.bind(this),this.enteredRack=this.enteredRack.bind(this),this.exitedRack=this.exitedRack.bind(this),this.el.addEventListener("calibration-complete",this.calibrationComplete),this.el.addEventListener("entered-rack",this.enteredRack),this.el.addEventListener("exited-rack",this.exitedRack),this.calibrationUI=document.getElementById("calibration-ui"),this.insideRackUI=document.getElementById("inside-rack-ui"),this.outsideRackUI=document.getElementById("outside-rack-ui"),this.updateUIs()},calibrationComplete(){this.state.calibrated=!0,this.updateUIs()},enteredRack(){this.state.inRack=!0,this.updateUIs()},exitedRack(){this.state.inRack=!1,this.updateUIs()},updateUIs(){updateVisibility=(t,e)=>{t&&t.object3D&&(t.object3D.visible=e)},this.state.calibrated?this.state.inRack?(updateVisibility(this.calibrationUI,!1),updateVisibility(this.insideRackUI,!0),updateVisibility(this.outsideRackUI,!1)):(updateVisibility(this.calibrationUI,!1),updateVisibility(this.insideRackUI,!1),updateVisibility(this.outsideRackUI,!0)):(updateVisibility(this.calibrationUI,!0),updateVisibility(this.insideRackUI,!1),updateVisibility(this.outsideRackUI,!1))}})},611:()=>{AFRAME.registerComponent("ui-updater",{init(){this.reachedHooks=this.reachedHooks.bind(this),this.leftHooks=this.leftHooks.bind(this),this.shoulderedBar=this.shoulderedBar.bind(this),this.returnedBar=this.returnedBar.bind(this),this.hitTop=this.hitTop.bind(this),this.loweredFromTop=this.loweredFromTop.bind(this),this.hitTargetDepth=this.hitTargetDepth.bind(this),this.upwardsFromTargetDepth=this.upwardsFromTargetDepth.bind(this),this.belowSafetyPins=this.belowSafetyPins.bind(this),this.bailedOut=this.bailedOut.bind(this),this.el.addEventListener("reached-hooks",this.reachedHooks),this.el.addEventListener("left-hooks",this.leftHooks),this.el.addEventListener("shouldered-bar",this.shoulderedBar),this.el.addEventListener("returned-bar",this.returnedBar),this.el.addEventListener("hit-top",this.hitTop),this.el.addEventListener("lowered-from-top",this.loweredFromTop),this.el.addEventListener("hit-target-depth",this.hitTargetDepth),this.el.addEventListener("upwards-from-target-depth",this.upwardsFromTargetDepth),this.el.addEventListener("below-safety-pins",this.belowSafetyPins),this.el.addEventListener("bailed-out",this.bailedOut),this.state={repPhase:"none",repsToGo:0},this.insideRackUI=document.querySelector("#inside-rack-ui"),this.outsideRackUI=document.querySelector("#outside-rack-ui")},remove(){this.el.removeEventListener("reached-hooks",this.reachedHooks),this.el.removeEventListener("left-hooks",this.leftHooks),this.el.removeEventListener("shouldered-bar",this.shoulderedBar),this.el.removeEventListener("returned-bar",this.returnedBar),this.el.removeEventListener("hit-top",this.hitTop),this.el.removeEventListener("lowered-from-top",this.loweredFromTop),this.el.removeEventListener("hit-target-depth",this.hitTargetDepth),this.el.removeEventListener("upwards-from-target-depth",this.upwardsFromTargetDepth),this.el.removeEventListener("below-safety-pins",this.belowSafetyPins),this.el.removeEventListener("bailed-out",this.bailedOut)},setTargetReps(t){this.state.repsToGo=t,this.insideRackUI.setAttribute("inside-rack-ui",{repsToGo:this.state.repsToGo})},repCompleted(){this.state.repsToGo--,this.insideRackUI.setAttribute("inside-rack-ui",{repsToGo:this.state.repsToGo})},reachedHooks(){this.setMessage("Take weight of bar")},leftHooks(){},shoulderedBar(){this.setMessage("Step Back")},returnedBar(){this.setMessage("Finished!")},setMessage(t){this.insideRackUI.setAttribute("inside-rack-ui",{message:t})},hitTop(){switch(this.state.repPhase){case"none":this.state.repPhase="ready",this.setMessage("Ready!");break;case"down":this.state.repPhase="rest",this.setMessage("Incomplete Rep");break;case"up":this.state.repPhase="rest",this.setMessage("Rep Complete"),this.repCompleted();break;default:console.error("Hit Top in unexpected state: ",this.state.repPhase)}},loweredFromTop(){switch(this.state.repPhase){case"none":this.setMessage("Stand Taller before beginning reps");break;case"ready":case"rest":this.state.repPhase="down",this.setMessage("Going down...");break;case"up":this.setMessage("Stand at full height to complete last Rep!");break;default:console.error("Lowered From Top in unexpected state: ",this.state.repPhase)}},hitTargetDepth(){switch(this.state.repPhase){case"none":this.setMessage("Stand at full height before beginning reps");break;case"down":this.setMessage("Hit Depth!"),this.state.repPhase="up";break;case"up":this.setMessage("Push up to complete this rep!");break;default:console.error("Lowered From Top in unexpected state: ",this.state.repPhase)}},upwardsFromTargetDepth(){"up"===this.state.repPhase||console.error("Lowered From Top in unexpected state: ",this.state.repPhase)},belowSafetyPins(){this.setMessage("Failed set.  Step out of rack and remove weight plates from bar.")},bailedOut(){this.setMessage("Failed set.  Step out of rack and remove weight plates from bar.")}})},117:()=>{AFRAME.registerComponent("vertical-controls",{init(){this.verticalVelocity=0,this.verticalAcceleration=0,this.keyDown=this.keyDown.bind(this),this.keyUp=this.keyUp.bind(this),window.addEventListener("keydown",this.keyDown),window.addEventListener("keyup",this.keyUp)},keyDown(t){"o"===t.key&&(this.verticalAcceleration+=2),"k"===t.key&&(this.verticalAcceleration=-2)},keyUp(t){"o"!==t.key&&"k"!==t.key||(this.verticalVelocity=0,this.verticalAcceleration=0)},tick(t,e){velDelta=e*this.verticalAcceleration/1e3,this.verticalVelocity+=velDelta,this.verticalVelocity>1&&(this.verticalVelocity=1),this.verticalVelocity<-1&&(this.verticalVelocity=-1),yDelta=e*this.verticalVelocity/1e3,this.el.object3D.position.y+=yDelta}})}},e={};function i(s){var a=e[s];if(void 0!==a)return a.exports;var o=e[s]={exports:{}};return t[s](o,o.exports,i),o.exports}return i(610),i(693),i(297),i(611),i(211),i(117),i(532),i(880),i(47),i(12),{}})()));
//# sourceMappingURL=squatmaster.min.js.map